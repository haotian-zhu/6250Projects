(this["webpackJsonpfinal-project-app"]=this["webpackJsonpfinal-project-app"]||[]).push([[0],[,,,,,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t){var n="cafd6cd4719d144ceca562aaa9ae0f0a",c="https://api.themoviedb.org/3/movie";var o={fetchTopRatedFilmInfo:function(e){return fetch("".concat(c,"/top_rated?api_key=").concat(n,"&language=en-US&page=").concat(e)).catch((function(){return Promise.reject({error:"networkError"})})).then((function(e){return e.ok?e.json():e.json().catch((function(e){return Promise.reject({error:e})})).then((function(e){return Promise.reject(e)}))}))},fetchSingleFilmInfo:function(e){return fetch("".concat(c,"/").concat(e,"?api_key=").concat(n),{method:"GET"}).catch((function(){return Promise.reject({error:"networkError"})})).then((function(e){return e.ok?e.json():e.json().catch((function(e){Promise.reject({error:e}),console.log(e)})).then((function(e){return Promise.reject(e)}))}))},fetchFilmByName:function(e,t){return fetch("".concat("https://api.themoviedb.org/3/search/movie","?api_key=").concat(n,"&query=").concat(e,"&page=").concat(t),{method:"GET"}).catch((function(){return Promise.reject({error:"networkError"})})).then((function(e){return e.ok?e.json():e.json().catch((function(e){Promise.reject({error:e}),console.log(e)})).then((function(e){return Promise.reject(e)}))}))},fetchTranslation:function(e,t){return fetch("".concat("https://translate.yandex.net/api/v1.5/tr.json/translate","?key=").concat("trnsl.1.1.20211212T030529Z.c87dad5e0d5e167b.89ee37b405a5ceb522dd38e49c21248d16d3693b","&text=").concat(t,"&lang=").concat(e),{method:"GET"}).catch((function(){return Promise.reject({error:"networkError"})})).then((function(e){return e.ok?e.json():e.json().catch((function(e){Promise.reject({error:e}),console.log(e)})).then((function(e){return Promise.reject(e)}))}))},fetchSession:function(){return fetch("/api/session",{method:"GET"}).catch((function(){return Promise.reject({error:"networkError"})})).then((function(e){return e.ok?e.json():e.json().catch((function(e){return Promise.reject({error:e})})).then((function(e){return Promise.reject(e)}))}))},fetchLogin:function(e){return fetch("/api/session",{method:"POST",headers:new Headers({"content-type":"application/json"}),body:JSON.stringify({username:e})}).catch((function(){return Promise.reject({error:"networkError"})})).then((function(e){return e.ok?e.json():e.json().catch((function(e){return Promise.reject({error:e})})).then((function(e){return Promise.reject(e)}))}))},fetchLogout:function(){return fetch("/api/session",{method:"DELETE"}).catch((function(){return Promise.reject({error:"networkError"})})).then((function(e){return e.ok?e.json():e.json().catch((function(e){return Promise.reject({error:e})})).then((function(e){return Promise.reject(e)}))}))},fetchAddCommentedFilm:function(e){return fetch("/api/commentedFilms",{method:"POST",headers:new Headers({"content-type":"application/json"}),body:JSON.stringify({film:e})}).catch((function(){return Promise.reject({error:"networkError"})})).then((function(e){return console.log(e),e.ok?e.json():e.json().catch((function(e){return Promise.reject({error:e})})).then((function(e){return Promise.reject(e)}))}))},fetchCommentedFilmList:function(){return fetch("/api/commentedFilms").catch((function(){return Promise.reject({error:"networkError"})})).then((function(e){return e.ok?e.json():e.json().catch((function(e){return Promise.reject({error:e})})).then((function(e){return Promise.reject(e)}))}))}};e.exports=o},function(e,t,n){"use strict";n.r(t);var c=n(1),o=n.n(c),r=n(5),a=n.n(r),i=(n(10),n(3)),s=n(2),l=(n(11),n(0));var u=function(e){return Object(l.jsx)("div",{className:"TopRatedFilmContainer",children:e.films.map((function(t){return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"film",name:t.original_title,onClick:function(){return e.getFilmInfo(t.id)},children:[Object(l.jsx)("img",{src:"https://image.tmdb.org/t/p/original/"+t.poster_path,alt:t.id,width:"190"},t.id),Object(l.jsx)("span",{id:t.id,className:"DisplayFilmName",children:t.original_title})]},t.id)})}))})};var m=function(e){var t=Object(c.useState)("en"),n=Object(s.a)(t,2),o=n[0],r=n[1],a=Object(c.useState)(""),i=Object(s.a)(a,2),u=i[0],m=i[1],j=e.film;j.myComment||(j.myComment=[]);var h="Average Rating: ".concat(j.vote_average," \n Voted By ").concat(j.vote_count," User(s)"),d="Genre: ";return j.genres.map((function(e){d+="".concat(e.name,", ")})),d=d.slice(0,-2),Object(l.jsxs)("div",{className:"DetailPage",children:[Object(l.jsxs)("div",{className:"FilmContainer",children:[Object(l.jsx)("div",{className:"FilmImage",children:Object(l.jsx)("img",{src:"https://image.tmdb.org/t/p/original/"+j.poster_path,className:"InfoPoster",alt:j.id,width:"200"},j.id)}),Object(l.jsxs)("div",{className:"FilmDescription",children:[Object(l.jsx)("span",{className:"Original_Title",children:j.original_title}),Object(l.jsx)("span",{className:"Release_Date",children:j.release_date}),Object(l.jsx)("span",{className:"Genre",children:d}),Object(l.jsx)("span",{className:"Vote_Average",children:h}),Object(l.jsxs)("span",{className:"FilmHomepageUrl",children:["Film Homepage: ",""===j.homepage?"N/A":j.homepage]}),Object(l.jsx)("span",{className:"FilmOverview",children:j.overview})]})]}),Object(l.jsx)("div",{className:"CommentContent",children:j.myComment.map((function(e){return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{children:[Object(l.jsx)("span",{className:"CommentContent",children:e[0]}),Object(l.jsxs)("span",{className:"CommentUserTime",children:["By ",e[1],"     ",e[2]]})]})})}))}),Object(l.jsxs)("select",{className:"LanguageDropDownMenu",onChange:function(e){r(e.target.value)},children:[Object(l.jsx)("option",{className:"Option",value:"en",children:"English"}),Object(l.jsx)("option",{className:"Option",value:"zh",children:"Chinese"}),Object(l.jsx)("option",{className:"Option",value:"fr",children:"French"}),Object(l.jsx)("option",{className:"Option",value:"ja",children:"Japanese"}),Object(l.jsx)("option",{className:"Option",value:"la",children:"Latin"}),Object(l.jsx)("option",{className:"Option",value:"ar",children:"Arabic"}),Object(l.jsx)("option",{className:"Option",value:"es",children:"Spanish"}),Object(l.jsx)("option",{className:"Option",value:"ko",children:"Korean"}),Object(l.jsx)("option",{className:"Option",value:"el",children:"Greek"}),Object(l.jsx)("option",{className:"Option",value:"uk",children:"Ukranian"}),Object(l.jsx)("option",{className:"Option",value:"th",children:"Thai"}),Object(l.jsx)("option",{className:"Option",value:"cs",children:"Czech"}),Object(l.jsx)("option",{className:"Option",value:"is",children:"Icelandic"}),Object(l.jsx)("option",{className:"Option",value:"ga",children:"Irish"}),Object(l.jsx)("option",{className:"Option",value:"vi",children:"Vietnamese"})]}),Object(l.jsxs)("div",{className:"CommentDiv",children:[Object(l.jsx)("input",{type:"text",value:u,className:"CommentInput",onInput:function(e){m(e.target.value)},placeholder:o?"Comment with language code: ".concat(o):"Comment here"}),Object(l.jsx)("button",{onClick:function(){e.convertComment(o,u),m("")},children:"comment"})]}),Object(l.jsx)("div",{children:Object(l.jsx)("button",{className:"GoBackBtn",onClick:function(){return e.goBack(!1)},children:"back"})}),Object(l.jsxs)("span",{className:"YandexCredit",children:["Powered by ",Object(l.jsx)("a",{className:"Link",href:"https://translate.yandex.com/",children:"Yandex.Translate"})]})]})};var j=function(e){var t=Object(c.useState)(""),n=Object(s.a)(t,2),o=n[0],r=n[1];return Object(l.jsxs)("div",{className:"SearchDiv",children:[Object(l.jsx)("input",{className:"InputFilmName",placeholder:"Search For Your Favorite Movie!",value:o,onInput:function(e){return r(e.target.value)}}),Object(l.jsx)("button",{className:"SeacrhButton",onClick:function(){e.updateStatus(!0),e.updateInput(o),r("")},children:"Search"})]})};var h=function(e){var t=Object(c.useState)(""),n=Object(s.a)(t,2),o=n[0],r=n[1],a=Object(c.useState)(""),i=Object(s.a)(a,2),u=i[0],m=i[1];return Object(l.jsxs)("div",{className:"LoginPageDiv",children:[Object(l.jsx)("input",{className:"UserNameInput",placeholder:"Enter Your Username",value:o,onInput:function(e){return r(e.target.value)}}),Object(l.jsx)("button",{className:"LoginButton",onClick:function(){""===o||"VUE"===o.toUpperCase()||"ANGULAR"===o.toUpperCase()?(e.updateLoginStatus(!1),m("UserName Cannot Be Vue or Angular or Null")):(m(""),e.updateLoginStatus(!0),e.updateUserName(o)),r("")},children:"Login"}),Object(l.jsx)("span",{children:u})]})};var d=function(e){return Object(l.jsx)("div",{className:"LogoutButtonDiv",children:Object(l.jsx)("button",{className:"LogoutButton",onClick:function(){e.changeStatus(!1)},children:"LogOut"})})};var f=function(e){var t=e.films;return Object(l.jsx)("div",{className:"CommentedFilmsContainer",children:Object.keys(t).map((function(n){return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"film",name:t[n].original_title,onClick:function(){return e.getFilmInfo(t[n].id)},children:[Object(l.jsx)("img",{src:"https://image.tmdb.org/t/p/original/"+t[n].poster_path,alt:t[n].id,width:"190"},t[n].id),Object(l.jsx)("span",{id:t[n].id,className:"DisplayFilmName",children:t[n].original_title})]},t[n].id)})}))})},b=n(13),p=b.fetchTopRatedFilmInfo,O=b.fetchSingleFilmInfo,g=b.fetchFilmByName,v=b.fetchTranslation,x=b.fetchSession,N=b.fetchLogin,C=b.fetchLogout,F=b.fetchCommentedFilmList,k=b.fetchAddCommentedFilm;var P=function(){var e=(new Date).toLocaleString(),t=Object(c.useState)(1),n=Object(s.a)(t,2),o=n[0],r=n[1],a=Object(c.useState)(!1),b=Object(s.a)(a,2),P=b[0],S=b[1],y=Object(c.useState)(1),L=Object(s.a)(y,2),w=L[0],T=L[1],E=Object(c.useState)(""),_=Object(s.a)(E,2),I=_[0],B=_[1],D=Object(c.useState)(""),R=Object(s.a)(D,2),U=R[0],A=R[1],G=Object(c.useState)(!1),H=Object(s.a)(G,2),M=H[0],J=H[1],V=Object(c.useState)({results:[]}),Y=Object(s.a)(V,2),z=Y[0],q=Y[1],K=Object(c.useState)(!1),Z=Object(s.a)(K,2),Q=Z[0],W=Z[1],X=Object(c.useState)(!1),$=Object(s.a)(X,2),ee=$[0],te=$[1],ne=Object(c.useState)(""),ce=Object(s.a)(ne,2),oe=ce[0],re=ce[1],ae=Object(c.useState)({}),ie=Object(s.a)(ae,2),se=ie[0],le=ie[1],ue=Object(c.useState)({original_title:"",posterpath:"",overview:"",release_date:"",vote_average:"",vote_count:"",homepage:"",genres:"",myComment:[]}),me=Object(s.a)(ue,2),je=me[0],he=me[1];return Object(c.useEffect)((function(){x().then(F().then((function(e){le(e),console.log("collection from sfetchCommentedFilmList:",e)}))).catch((function(e){console.log(e)}))}),[oe,M,je]),Object(c.useEffect)((function(){p(o).then((function(e){e?console.log("Top Rated Films collected"):console.log("No films"),T(1),q(e),te(!1)}))}),[o,M]),Object(c.useEffect)((function(){g(I,w).then((function(e){e?console.log("Seachrd Results collected"):console.log("No films"),te(!0),r(1),q(e)}))}),[I,w]),Object(l.jsxs)("div",{className:"Final-Project-App",children:[Object(l.jsx)("h1",{children:"Multilingual Film Review App"}),!M&&Object(l.jsx)(h,{updateLoginStatus:function(e){return J(e)},updateUserName:function(e){A(e),N(e).then(console.log("userName:",e)).catch((function(e){console.log(e)}))}}),!Q&&M&&Object(l.jsxs)("div",{className:"HomePage",children:[Object(l.jsx)(j,{updateInput:function(e){B(e),T(1),r(1),g(e,w).then((function(e){e?console.log("Top Rated Films collected"):console.log("No films"),q(e),console.log("collection from fetchFilmByName",e)}))},updateStatus:function(e){return te(e)}}),Object(l.jsx)("h3",{children:ee?"Search Results":"Top Rated Films"}),Object(l.jsx)("div",{className:"imageList",children:Object(l.jsx)(u,{films:z.results,getFilmInfo:function(e){O(e).then((function(e){he(e),W(!0)}))}})}),Object(l.jsx)("span",{className:"scrollReminder",children:"<- scroll to see more ->"}),Object(l.jsxs)("div",{className:"ControlPage",children:[Object(l.jsx)("button",{className:"PrevPageBtn",disabled:1===o&&1===w,onClick:function(){ee?T(w-1):r(o-1)},children:"Prev"}),Object(l.jsx)("button",{className:"NextPageBtn",onClick:function(){ee?T(w+1):r(o+1)},children:"Next"})]}),Object(l.jsx)("h3",{className:"CommentHeader",children:0===Object.keys(se).length?"".concat(U,", You Have No Recently Commented Films"):"".concat(U,"'s Recently Commented Film")}),Object(l.jsx)("div",{className:"CommentedList",children:Object(l.jsx)(f,{films:se,getFilmInfo:function(e){he(se[e]),W(!0)}})}),Object(l.jsx)("div",{className:"LogOut",children:Object(l.jsx)(d,{changeStatus:function(e){J(e),A(""),C().then(console.log("User Logged out")).catch((function(e){console.log(e)}))}})})]}),Q&&Object(l.jsx)(m,{film:je,userName:U,convertComment:function(t,n){v(t,n).then((function(t){var n=Object(i.a)({},je);return n.myComment||(n.myComment=[]),n.myComment.push([t.text[0],U,e]),re(t.text[0]),n})).then((function(e){k(e).then((function(e){console.log("added film id",e.id),le(Object(i.a)(Object(i.a)({},se),{},{tmp_film:e})),console.log(se),he(e),S(!0)})).catch((function(e){console.log(e)}))}))},Done:P,goBack:function(e){return W(e)}}),Object(l.jsxs)("span",{className:"Credit",children:["Powered by ",Object(l.jsx)("a",{className:"Link",href:"https://www.themoviedb.org/",children:"The Movie Database (TMDB)"})]})]})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,15)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),o(e),r(e),a(e)}))};a.a.render(Object(l.jsx)(o.a.StrictMode,{children:Object(l.jsx)(P,{})}),document.getElementById("root")),S()}],[[14,1,2]]]);
//# sourceMappingURL=main.1af406fd.chunk.js.map